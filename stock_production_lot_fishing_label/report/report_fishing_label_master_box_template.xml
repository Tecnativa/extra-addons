<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="label_fishing_master_box_traceability">
        <span>Traceability</span>
    </template>
    <template id="label_fishing_master_box_ingredients">
        <span>Ingredients</span>
    </template>
    <template id="label_fishing_master_box_conservation">
        <span>Conservation</span>
    </template>
    <template id="label_fishing_master_box_how_to_use">
        <span>How to use</span>
    </template>
    <template id="label_fishing_master_box_label">
        <span>According to the sales unit label</span>
    </template>
    <template id="label_fishing_master_box_report_document">
        <t t-call="stock_production_lot_fishing_label.basic_layout_fishing_label">
            <t t-set="o" t-value="doc" />
            <t t-set="langs" t-value="report_langs[doc['id']]" />
            <t
                t-set="count"
                t-value="doc['label_qty'] if doc_model == 'stock.picking.line.print' else 1"
            />
            <t t-foreach="count" t-as="i">
                <div class="page" style="font-size: 16pt;">
                    <div class="row">
                        <div class="col-12 text-center" t-if="show_client_elaborations">
                            <strong
                                style="font-size: 18pt;"
                                t-if="doc_model != 'stock.quant'"
                                t-field="o['picking_partner_id'].display_name"
                            />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-7">
                            <t t-foreach="langs" t-as="lang">
                                <strong
                                    style="font-size: 20pt;"
                                    t-field="o['product_id'].with_context(lang=lang).name"
                                />
                                <br t-if="lang != langs[-1]" />
                            </t>
                        </div>
                        <div class="col-5 text-right">
                            <strong style="font-size: 45pt;">
                                CAJA MASTER BOX
                            </strong>
                            <br />
                            <strong style="font-size: 45pt;">
                                <strong>LOT:</strong>
                                <span t-field="doc['lot_id'].name" />
                            </strong>
                        </div>
                    </div>
                    <div class="row">
                        <div
                            class="col-12 text-right"
                            style="font-size: 13pt;"
                            id="extra_heading"
                        >
                            <div
                                t-if="show_client_elaborations and doc_model not in ['stock.quant', 'stock.picking.line.print'] and doc['move_id'].elaboration_ids"
                            >
                                <i
                                    t-out="', '.join(doc['move_id'].elaboration_ids.with_context(lang='ca_ES').mapped(lambda e: '*' + e.name))"
                                />
                                <br />
                                <i t-out="doc['move_id'].elaboration_note" />
                            </div>
                            <div
                                t-elif="show_client_elaborations and doc_model == 'stock.picking.line.print' and doc['move_line_id'].elaboration_ids"
                            >
                                <i
                                    t-out="', '.join(doc['move_line_id'].move_id.elaboration_ids.with_context(lang='ca_ES').mapped(lambda e: '*' + e.name))"
                                />
                                <br />
                                <i
                                    t-out="doc['move_line_id'].move_id.elaboration_note"
                                />
                            </div>
                        </div>
                    </div>
                    <t
                        t-set="precision"
                        t-value="env['decimal.precision'].precision_get('Product Unit of Measure')"
                    />
                    <div style="border-top: 1px solid black;" />
                    <div class="row text-center" style="font-size: 18pt;">
                        <div class="col-12">
                            <table
                                class="text-center"
                                style="border-top: 1px solid black;border-bottom: 1px solid black;font-size: 18pt;width:100%"
                            >
                                <tbody>
                                    <tr>
                                        <td>
                                            <t t-foreach="langs" t-as="lang">
                                                <t
                                                    t-call="stock_production_lot_fishing_label.basic_layout_fishing_label_freezing"
                                                    t-lang="lang"
                                                />
                                                <span
                                                    t-if="lang != langs[-1]"
                                                > / </span>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-foreach="langs" t-as="lang">
                                                <t
                                                    t-call="stock_production_lot_fishing_label.basic_layout_fishing_label_expiration"
                                                    t-lang="lang"
                                                />
                                                <span
                                                    t-if="lang != langs[-1]"
                                                > / </span>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-foreach="langs" t-as="lang">
                                                <t
                                                    t-call="stock_production_lot_fishing_label.basic_layout_fishing_label_net_weight"
                                                    t-lang="lang"
                                                />
                                                <span
                                                    t-if="lang != langs[-1]"
                                                > / </span>
                                            </t>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <strong
                                                t-field="doc['lot_id'].packaging_date"
                                                t-options='{"widget": "date"}'
                                            />
                                        </td>
                                        <td>
                                            <strong
                                                t-field="doc['lot_id'].expiration_date"
                                                t-options='{"widget": "date"}'
                                            />
                                        </td>
                                        <td>
                                            <strong><span
                                                    t-esc="doc['net_weight']"
                                                /> Kg</strong>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="border-top: 1px solid black;" />
                    <div class="row">
                        <div class="col-12">
                            <strong>PACKAGES:</strong>
                            <span
                                t-esc="', '.join([x.name for x in doc['result_package_ids']])"
                            />
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-6">
                            <strong t-foreach="langs" t-as="lang">
                                <span
                                    t-call="stock_production_lot_fishing_label.label_fishing_master_box_traceability"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </strong>
                            <br />
                            <strong t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_master_box_ingredients"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </strong>
                            <br />
                            <strong t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_master_box_how_to_use"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </strong>
                        </div>
                        <div class="col-6" style="font-size: 25pt;">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_master_box_label"
                                    t-lang="lang"
                                />
                                <br />
                            </t>
                            <br />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <strong t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_master_box_conservation"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </strong>
                        </div>
                        <div class="col-6">
                            <strong
                                t-out="'0-4ºC' if doc['product_id'].gamma_ids[:1] != env.ref('product_fishing.product_gamma_c') else '-18ºC'"
                            />
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>
    <template id="label_master_box">
        <t t-foreach="docs" t-as="doc">
            <t
                t-call="stock_production_lot_fishing_label.label_fishing_master_box_report_document"
            />
        </t>
    </template>
    <template id="label_master_box_sqmb">
        <t t-foreach="docs" t-as="doc">
            <t
                t-call="stock_production_lot_fishing_label.label_fishing_master_box_report_document"
            />
        </t>
    </template>
</odoo>
