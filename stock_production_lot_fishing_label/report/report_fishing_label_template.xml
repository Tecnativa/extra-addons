<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!--  Complete fishing labels  -->
    <template id="label_fishing_report_document_scientific">
        <span>Scientific N.</span>
    </template>
    <template id="label_fishing_report_document_fish_zone">
        <span>Fishing zone</span>
    </template>
    <template id="label_fishing_report_document_production_method">
        <span>Production method</span>
    </template>
    <template id="label_fishing_report_document_fishing_art">
        <span>Fishing art</span>
    </template>
    <template id="label_fishing_report_document_boat">
        <span>Boat</span>
    </template>
    <template id="label_fishing_report_document_origin">
        <span>Origin</span>
    </template>
    <template id="label_fishing_report_document_presentation">
        <span>Presentation</span>
    </template>
    <template id="label_fishing_report_document_keep_at">
        <span>Keep at</span>
    </template>
    <template id="label_fishing_report_document_nutrition_facts">
        <div class="row">
            <t
                t-set="show_nutritional_table"
                t-value="show_nutritional_table or product.gamma_ids[:1] != env.ref('product_fishing.product_gamma_f')"
            />
            <div
                t-att-class="'col-6' if show_nutritional_table else 'col-12'"
                id="conservation"
            />
            <div class="col-6" id="nutritional_table" t-if="show_nutritional_table">
                <t t-call="nutritional_info.nutritional_info_table">
                    <t t-set="main_object" t-value="lot" />
                    <t t-set="alt_object" t-value="product" />
                    <t t-set="langs" t-value="report_langs[doc['id']]" />
                </t>
            </div>
        </div>
    </template>
    <template id="label_fishing_report_document">
        <t t-call="stock_production_lot_fishing_label.basic_layout_fishing_label">
            <t t-set="lot" t-value="doc['lot_id']" />
            <t t-set="product" t-value="doc['product_id']" />
            <t
                t-set="count"
                t-value="doc['label_qty'] if doc_model == 'stock.picking.line.print' else 1"
            />
            <t t-foreach="count" t-as="i">
                <div class="page" style="font-size: 16pt;">
                    <t t-set="langs" t-value="report_langs[doc['id']]" />
                    <div class="row" id="scientific_name">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_scientific"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <i t-field="product.scientific_name_ids[:1].name" />
                        </div>
                    </div>
                    <div class="row" id="fishing_zone">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_fish_zone"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <span
                                    t-field="lot.fao_fishing_area_id.with_context(lang=lang).name"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                    </div>
                    <div class="row" id="production_method">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_production_method"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <span
                                    t-field="lot.harvesting_id.with_context(lang=lang).name"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                    </div>
                    <div class="row" id="fishing_art">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_fishing_art"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <span
                                    t-field="lot.fao_fishing_technique_id.with_context(lang=lang).name"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                    </div>
                    <div class="row" id="boat">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_boat"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <span t-field="lot.fishing_ship_id.name" />
                        </div>
                    </div>
                    <div class="row" id="origin">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_origin"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <span
                                    t-field="lot.country_id.with_context(lang=lang).name"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                    </div>
                    <div class="row" id="presentation">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_presentation"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <span
                                    t-field="lot.presentation_id.with_context(lang=lang).name"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                    </div>
                    <div class="row" id="keep_at">
                        <div class="col-6">
                            <t t-foreach="langs" t-as="lang">
                                <t
                                    t-call="stock_production_lot_fishing_label.label_fishing_report_document_keep_at"
                                    t-lang="lang"
                                />
                                <span t-if="lang != langs[-1]"> / </span>
                            </t>
                        </div>
                        <div class="col-6">
                            <span
                                t-out="', '.join(product.preservation_condition_ids.mapped('name'))"
                            />
                        </div>
                    </div>
                    <t
                        t-if="use_second_page or product.gamma_ids[:1] != env.ref('product_fishing.product_gamma_f')"
                    >
                        <p style="page-break-before:always;" />
                        <t
                            t-call="stock_production_lot_fishing_label.label_fishing_report_document_nutrition_facts"
                        />
                    </t>
                    <p style="page-break-before:always;" />
                </div>
            </t>
        </t>
    </template>
    <template id="label_fishing">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_document"
                />
            </t>
        </t>
    </template>
    <template id="label_fishing_move">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_document"
                />
            </t>
        </t>
    </template>
    <template id="label_fishing_quant">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_document"
                />
            </t>
        </t>
    </template>
    <template id="label_fishing_nutri">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_document"
                />
            </t>
        </t>
    </template>
    <!--  Mini fishing labels  -->
    <template id="label_fishing_report_mini_document">
        <t t-call="web.basic_layout">
            <t
                t-set="count"
                t-value="doc['label_qty'] if doc_model == 'stock.picking.line.print' else 1"
            />
            <t t-foreach="count" t-as="i">
                <div class="page">
                    <div class="row" style="padding-top: 25px">
                        <div class="col">
                            <t
                                t-set="barcode"
                                t-value="doc['result_package_id'].alias or doc['result_package_id'].display_name"
                            />
                            <img
                                t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;quiet=0&amp;height=%s&amp;width=%s&amp;' % ('gs1_128', barcode, 60, 30)"
                                style="width:100%;height:100px"
                            />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col" style="text-align:center; font-size: 12pt;">
                            <span
                                t-out="doc['result_package_id'].alias or doc['result_package_id'].display_name"
                            />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col" style="text-align:center; font-size: 12pt;">
                            <strong t-out="doc['product_id'].name" />
                        </div>
                    </div>
                    <p style="page-break-before:always;" />
                </div>
            </t>
        </t>
    </template>
    <template id="label_fishing_mini">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_mini_document"
                />
            </t>
        </t>
    </template>
    <template id="label_fishing_move_mini">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_mini_document"
                />
            </t>
        </t>
    </template>
    <template id="label_fishing_quant_mini">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
                    t-call="stock_production_lot_fishing_label.label_fishing_report_mini_document"
                />
            </t>
        </t>
    </template>
</odoo>
